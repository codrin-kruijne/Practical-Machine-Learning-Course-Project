---
title: "Practical Machine Learning Course Project"
author: "Codrin Kruijne"
date: "2 April 2018"
output: html_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)
require(dplyr); require(ggplot2); require(caret)
```

## Executive summary

This research explores human activity recognition data of weight lifting excercises. It focuses on how well the a dumbell biceps curl was performed, which was executed and classified in five different fashions; correctly and with four common deviations.

blabla

## Questions

The goal of this project is to predict the manner in which subjects did dumbell excercises, that is whether the excercise was accurately performed or with particular deviation. For more informaiont on the research and data obtained see the appendix with background infromation. We will therfore try to predict the 'classe' variable.

```{r, echo = FALSE}
set.seed(123)
```

## Input data and preprocessing

```{r echo = FALSE}
training <- read.csv("https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv", header = TRUE, na.strings = c("", " ", "#DIV/0!"))
testing <- read.csv("https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv", header = TRUE, na.strings = c("", " ", "#DIV/0!"))
dim(training)
dim(testing)
str(training)
```
The training dataset has `r nrow(training)` records and `r ncol(training)` variables. Thes testing set has `r nrow(testing)` with which we will compare our predictions.

## Exploring and selecting data features

This first seven variables are non measurement variables, that is record number, user names and timestamps. The following variables are measurements from the body (belt, arm and forearm) and dumbell. The final classe variable is the classification of the (quality of the) activity. 
We will exclude the columns that are not related to movement measure, specifically X, timestamps and num/new_window.[^1]

```{r, echo = FALSE}
testing <- testing[ , -c(1, 3:7)]
training <- training[ , -c(1, 3:7)]
dim(training)
dim(testing)
str(training)
```

### Preprocessing
Exploring the data it look slike there are a lot of missing values. Some these are to be expected. As the movements were continuously measured, absence of data is just absence of movement. We decide not to impute data.

There are some variables with only values of "#DIV/0!" or "" which is not meaningful, so we will remove these variable.

```{r echo = FALSE}
training <- subset(training, select = -c(kurtosis_yaw_belt, skewness_yaw_belt, amplitude_yaw_belt, kurtosis_yaw_dumbbell, skewness_yaw_dumbbell, amplitude_yaw_dumbbell))
testing <- subset(testing, select = -c(kurtosis_yaw_belt, skewness_yaw_belt, amplitude_yaw_belt, kurtosis_yaw_dumbbell, skewness_yaw_dumbbell, amplitude_yaw_dumbbell))
dim(training)
dim(testing)
str(training)
```

The dataset has a number of variables that are interpreted as a factor, while they are numbers, so we change their data type.
```{r}
change_factor <- sapply(training, is.factor)
change_factor["user_name"] <- FALSE
change_factor["classe"] <- FALSE
training[, change_factor] <- sapply(training[, change_factor], as.numeric)
dim(training)
dim(testing)
str(training)
```




## Machine learning algorithms and parameters

```{r, cache = TRUE, echo = FALSE}

```

## Evaluation and conclusions

### Cross validation

### Out of sample error

```{r, cache = TRUE, echo = FALSE}

```

We explored each record as independent data. However, an excercise is a discrete set of many consecutive movements. How would this need to be taken into account when modeling? Something to learn in a future course!

[^1]: Please note there are two variables, new_window and num_window for which I cannot find any documentation. I thought it might have to do with identifying the 10 repetitions, but the numbering seems off. I have decided to exclude these from modeling.

## Appendix

Assignment: <https://www.coursera.org/learn/practical-machine-learning/peer/R43St/prediction-assignment-writeup>
Your submission for the Peer Review portion should consist of a link to a Github repo with your R markdown and compiled HTML file describing your analysis. Please constrain the text of the writeup to < 2000 words and the number of figures to be less than 5. 

###  Background

Using devices such as Jawbone Up, Nike FuelBand, and Fitbit it is now possible to collect a large amount of data about personal activity relatively inexpensively. These type of devices are part of the quantified self movement â€“ a group of enthusiasts who take measurements about themselves regularly to improve their health, to find patterns in their behavior, or because they are tech geeks. One thing that people regularly do is quantify how much of a particular activity they do, but they rarely quantify how well they do it. In this project, your goal will be to use data from accelerometers on the belt, forearm, arm, and dumbell of 6 participants. They were asked to perform barbell lifts correctly and incorrectly in 5 different ways. 
Weight lifting excercise dataset: <http://web.archive.org/web/20161224072740/http:/groupware.les.inf.puc-rio.br/har>


### Full code
```{r}

```

